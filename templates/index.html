<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Airplane Travel Chatbot</title>
<style>
  body {
    margin:0;
    font-family:'Segoe UI',sans-serif;
    background:linear-gradient(135deg,#0f0f0f,#1a1a2e,#3a0ca3);
    height:100vh;
    display:flex;
    flex-direction:column;
    color:#f5f5f5;
  }
  header {
    text-align:center;
    padding:20px;
    font-size:28px;
    font-weight:bold;
    background:rgba(0,0,0,0.7);
    letter-spacing:1px;
  }
  #chat {
    flex:1;
    padding:20px;
    overflow-y:auto;
    font-size:18px;
    display:flex;
    flex-direction:column;
  }
  .message {
    max-width:70%;
    padding:12px 18px;
    border-radius:20px;
    margin:10px 0;
    line-height:1.5;
    word-wrap:break-word;
  }
  .user {
    background:#fbc531;
    color:#111;
    align-self:flex-end;
    border-bottom-right-radius:0;
  }
  .bot {
    background:#9b59b6;
    color:#fff;
    align-self:flex-start;
    border-bottom-left-radius:0;
  }
  .typing {
    font-style:italic;
    opacity:0.7;
  }
  footer {
    display:flex;
    padding:15px;
    background:rgba(0,0,0,0.8);
  }
  input {
    flex:1;
    padding:12px;
    font-size:16px;
    border-radius:25px;
    border:none;
    outline:none;
  }
  button {
    padding:12px 25px;
    margin-left:10px;
    border:none;
    border-radius:25px;
    background:#ff4081;
    color:white;
    font-size:16px;
    cursor:pointer;
    transition:0.3s;
  }
  button:hover {
    background:#f50057;
  }
</style>
</head>
<body>

<header>✈️ AIRPLANE TRAVEL CHATBOT ✈️</header>

<div id="chat"></div>

<footer>
  <input type="text" id="message" placeholder="Type your message...">
  <button onclick="sendMessage()">Send</button>
</footer>

<script>
const chat = document.getElementById("chat");

function appendMessage(sender, text, isTyping = false) {
    const div = document.createElement("div");
    div.className = `message ${sender}`;
    div.textContent = text;
    if (isTyping) div.classList.add("typing");
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
    return div;
}

async function sendMessage() {
    const input = document.getElementById("message");
    const userMessage = input.value.trim();
    if (!userMessage) return;

    appendMessage('user', userMessage);
    input.value = "";

    const typingDiv = appendMessage('bot', "Chatbot is typing...", true);

    const response = await fetch("/chat", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({message: userMessage})
    });
    const data = await response.json();

    chat.removeChild(typingDiv);
    appendMessage('bot', data.message);
}

document.getElementById("message").addEventListener("keypress", function(e) {
    if (e.key === "Enter") {
        e.preventDefault();
        sendMessage();
    }
});

window.onload = function() {
    appendMessage('bot', "Hello! Welcome to the Airplane Travel Helpdesk. Ask me anything about flights ✈️");
}
</script>

</body>
</html>


